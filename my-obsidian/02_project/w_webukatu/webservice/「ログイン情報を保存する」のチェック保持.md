
ログインフォーム実装時、「ログイン情報を保存する」のチェックボックスのチェックを保持したいなと考え、実装してみたが、うまくいかなかったのでメモ。


## 試したこと
---

自分が試したコードから。

```
<input type="checkbox" class="login-form__keep-info-check" name="login-keep" value="<?php if (!empty($_POST['login-keep'])) echo $_POST['login-keep']; ?>">
```

この書き方だとなぜだめなのか。

チャッピー曰く、

- checkbox はチェックされていれば Value が送信される
- チェックされていなければPOST自体が来ない

ため。

なので、POSTがなかったらそもそも保持ができない。



## 正解
---

正解コードは以下の通り。

```
<input type="checkbox" class="login-form__keep-info-check" name="login-keep" value="1" <?php if (!empty($_POST['login-keep'])) echo 'checked'; ?> >
```

このコードのポイントは

- POSTがあったらチェックをつける
- POSTされるとValueが送信され、POSTされなければなにも送信されない
- 「value = 1」は「true」ではない

ってこと。

- value はデータ
- checked は状態

って覚えておけばいいのではないでしょうか。